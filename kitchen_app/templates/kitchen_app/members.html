{% extends 'kitchen_app/base_dashboard.html' %}

{% block title %}Index{% endblock %}

{% block content %}
<h1>Members</h1>
<ul class="list-group">
    {% for member in members %}
    <li class="list-group-item">
        <div class="d-inline-block">
            <h3>{{ member.userID }}</h3>
            <span class="badge badge-light">{{ member.status }}</span>
        </div>
        <br>
        {% if member.status == "member"  %}
        <button class="btn btn-lg btn-primary">Make admin</button>
        {% endif %}
        {% endfor %}
    </li>

</ul>
<hr>
<h3>Find new members</h3>

<form action="{% url 'kitchen_app:members' room.pk %}" method="POST">
    {% csrf_token %}
    <fieldset>
        <div>
            {% if search_term %}
            <input type="text" id="name" name="name" value="{{ search_term }}">
            {% else %}
            <input type="text" id="name" name="name" placeholder="Name to look up">
            {% endif %}
        </div>
        <input class="btn btn-primary" type="submit" id="submit" value="Look Up">
    </fieldset>
</form>


{% if users %}
<ul class="list-group">
    {% for user in users %}
    <li class="list-group-item">
        <h2>{{ user }}</h2>
        <p>{{ user.email }}</p>
        <button class="btn btn-lg btn-primary">add</button>
    </li>
    {% endfor %}
</ul>
{% else %}
<p>no users try a different name</p>
{% endif %}




{% endblock %}
{% block footer %}

<script>

    window.onload = function () {
        document.getElementByID("name").focus();
    }


</script>
{% endblock %}